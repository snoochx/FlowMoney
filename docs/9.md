# Тестирование FlowMoney
Тест-кейсы модульного тестирования экранов приложения

## 1. `MainActivity` (Главный экран)

| ID  | Цель теста                     | Действие                             | Ожидаемый результат |
|-----|--------------------------------|--------------------------------------|-------------------|
| 1   | Проверка отображения баланса   | Запустить приложение                 | Отображается текущий баланс |
| 2   | Скрытие/отображение баланса    | Нажать на иконку глаза               | Баланс скрыт/показан, иконка меняется |
| 3   | Переход в экран аккаунтов      | Нажать на кнопку или контейнер аккаунтов | Открывается AccountsActivity |
| 4   | Переход в аналитику            | Нажать на контейнер аналитики        | Открывается AnalyticsActivity |
| 5   | Добавление новой операции      | Нажать на fabAdd                     | Открывается AddOperationActivity |

## 2. `AccountsActivity` (Список счетов)

| ID  | Цель теста                        | Действие                          | Ожидаемый результат |
|-----|----------------------------------|-----------------------------------|-------------------|
| 1   | Отображение списка счетов         | Открыть экран                      | Отображаются все счета пользователя |
| 2   | Переход в создание нового счета   | Нажать на fabCreateAccount         | Открывается CreateAccountActivity |
| 3   | Переход в подробности счета       | Нажать на счет в списке            | Открывается AccountInfoActivity с правильным accountId |

## 3. `AccountInfoActivity` (Информация о счете)

| ID  | Цель теста                        | Действие                          | Ожидаемый результат |
|-----|----------------------------------|-----------------------------------|-------------------|
| 1   | Отображение информации о счете    | Открыть экран с accountId         | Показываются имя и баланс счета |
| 2   | Переход к переводу средств        | Нажать btnTransfer                 | Открывается TransferActivity с accountId |
| 3   | Закрытие счета                     | Нажать btnCloseAccount (если не основной) | Счет удаляется, баланс переводится на основной, экран закрывается |
| 4   | Проверка обязательного accountId  | Открыть экран без accountId        | Появляется Toast "Ошибка: счет не найден", экран закрывается |

## 4. `CreateAccountActivity` (Создание счета)

| ID  | Цель теста                     | Действие                           | Ожидаемый результат |
|-----|--------------------------------|------------------------------------|-------------------|
| 1   | Создание нового счета           | Ввести уникальное имя и нажать btnCreate | Создается счет, Toast "Счет создан", экран закрывается |
| 2   | Проверка пустого имени           | Нажать btnCreate без ввода имени   | Появляется Toast "Введите название счета" |
| 3   | Проверка существующего имени    | Ввести имя уже существующего счета | Появляется Toast "Счет с таким названием уже существует" |

## 5. `TransferActivity` (Перевод средств между счетами)

| ID  | Цель теста                     | Действие                           | Ожидаемый результат |
|-----|--------------------------------|------------------------------------|-------------------|
| 1   | Выбор счетов для перевода       | Нажать на контейнер From/To         | Появляется список счетов для выбора |
| 2   | Смена счетов местами             | Нажать на btnSwapAccounts           | Счета меняются местами, имена обновляются |
| 3   | Отправка перевода                | Ввести сумму и нажать btnSendTransfer | Баланс списывающего и получающего счета обновляется, Toast "Перевод выполнен" |
| 4   | Проверка недостатка средств     | Ввести сумму больше, чем баланс    | Появляется Toast "Недостаточно средств" |

## 6. `AnalyticsActivity` (Аналитика)

| ID  | Цель теста                     | Действие                           | Ожидаемый результат |
|-----|--------------------------------|------------------------------------|-------------------|
| 1   | Отображение расходов            | Открыть экран                       | В RecyclerView отображаются только расходы |
| 2   | Отображение доходов             | Нажать на btnIncome                 | В RecyclerView отображаются только доходы |
| 3   | Переключение между кнопками     | Нажать на btnExpenses/btnIncome     | Цвет кнопок обновляется, данные фильтруются |

## 7. `AddOperationActivity` (Добавление операции)

| ID  | Цель теста                     | Действие                           | Ожидаемый результат |
|-----|--------------------------------|------------------------------------|-------------------|
| 1   | Ввод обязательных полей        | Ввести сумму и выбрать категорию   | Данные сохраняются через viewModel, экран закрывается |
| 2   | Проверка пустых полей           | Нажать btnSave без суммы или категории | Появляется Toast "Введите сумму и категорию" |
| 3   | Выбор категории                 | Нажать actvCategory                 | Появляется диалог выбора категории, выбранная категория отображается в actvCategory |
| 4   | Выбор типа операции             | Переключить toggleGroup             | Тип операции меняется на EXPENSE/INCOME, цвет кнопок обновляется |

## Управляющий граф программы
<img width="568" height="376" alt="image" src="https://github.com/user-attachments/assets/cef368cc-6846-43dd-a0ab-bbc677e1e7e1" />

## Пояснение к графу
1. Запуск приложения  
2. MainActivity (Главный экран: баланс, доходы, расходы)  
3. AccountsActivity (Список счетов)  
4. AccountInfoActivity (Информация о счете)  
5. CreateAccountActivity (Создание нового счета)  
6. TransferActivity (Перевод средств между счетами)  
7. AddOperationActivity (Добавление операции)  
8. AnalyticsActivity (Аналитика)  
9. Закрытие приложения  

---

## Основные тестовые пути
**T1:** 1 → 2 → 3 → 5 → 3 → 2 → 9  
**T2:** 1 → 2 → 7 → 2 → 9  
**T3:** 1 → 2 → 3 → 4 → 6 → 3 → 2 → 9  
**T4:** 1 → 2 → 8 → 2 → 9  

---

Тест-кейсы интеграционного тестирования экранов приложения

| ID  | Цель теста                        | Действие                                                                 | Ожидаемый результат |
|-----|-----------------------------------|--------------------------------------------------------------------------|-------------------|
| 1   | Проверка создания нового счета    | На экране Accounts нажать fabCreateAccount, ввести имя, нажать "Создать" | Новый счет появляется в списке счетов |
| 2   | Проверка перехода в детали счета  | На экране Accounts выбрать счет                                         | Открывается AccountInfoActivity с корректными данными |
| 3   | Проверка перевода средств         | В AccountInfo нажать "Перевод", выбрать счета, ввести сумму, нажать "Отправить" | Балансы списывающего и получающего счета обновлены, Toast "Перевод выполнен" |
| 4   | Проверка добавления операции      | На главном экране нажать fabAdd, ввести сумму и категорию, нажать "Сохранить" | Операция добавлена, экран закрыт, баланс обновлен |
| 5   | Проверка аналитики                | На главном экране нажать Analytics, выбрать расходы/доходы               | Отображаются корректные операции, цвет кнопок обновляется |
| 6   | Проверка скрытия/отображения баланса | На главном экране нажать иконку глаза                                   | Баланс скрыт/показан, иконка меняется |
| 7   | Проверка выхода из списка счетов  | Вернуться на главный экран                                               | Список счетов закрыт, отображается MainActivity |
| 8   | Проверка закрытия приложения      | Нажать системную кнопку "Назад" или закрыть приложение                   | Приложение закрывается |
